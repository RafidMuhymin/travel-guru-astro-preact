((t,e,a)=>{const o=async()=>{t.cs||caches.delete("spafy"),t.cs=!0;const o=await caches.open("spafy"),n=async t=>o.put(t,await fetch(t));let r=[],i=[];const s=async t=>navigator.connection&&navigator.connection.saveData||await o.match(t),c=new IntersectionObserver((t=>{t.forEach(((t,e)=>{t.isIntersecting?i[e]=setTimeout((()=>{prefetch(t.target.href)}),500):clearTimeout(i[e])}))}),{threshold:.25}),h=async()=>{t.onNavigate&&onNavigate();const r=e.createElement("div"),i=e.createElement("div");r.style="position: fixed; top: 0px; left: 0px; width: 100vw; height: 1vh; background-color: #4248f5; z-index: -1;",i.style="position: fixed; top: 0px; left: 0px; width: 100vw; height: 1vh; background-color: #42b3f5;",e.body.appendChild(r),e.body.appendChild(i);const s=()=>{i.animate({left:["-100vw","100vw"]},1250)};s(),intervalID=setInterval((()=>{s()}),1250);const c=await o.match(a.href)||await n(a.href)||await o.match(a.href),h=await c.text(),l=(new DOMParser).parseFromString(h,"text/html");clearInterval(intervalID);const p=e.querySelector("#root"),d=l.querySelector("#root");p.parentElement.appendChild(d),p.style.position="absolute",p.animate([1,0],1e3),d.animate([0,1],1e3).onfinish=p.remove,e.head.replaceWith(l.head),[...e.querySelectorAll("head script, #root script")].forEach((t=>{const a=e.createElement("script");a.textContent=t.textContent;for(const e of t.attributes)a.setAttribute(e.name,e.value);t.replaceWith(a)})),t.onMount&&onMount()};t.onpopstate=h,t.navigate=t=>{a.href!==t&&a.pathname!==t&&(history.pushState({},e.title,t),h())},t.prefetch=async t=>{if(!e.querySelector('link[href="'+t+'"]')&&!await s(t)){const a=e.createElement("link");a.href=t,a.rel="prefetch",a.onload=()=>{o.add(t)},e.head.appendChild(a)}},t.scan=()=>{const t=Array.from(e.links).filter((t=>t.host===a.host&&!t.hash&&!t.hasAttribute("download")&&!t.hasAttribute("data-spa-ignore")&&"_blank"!==t.target)).filter((t=>!r.includes(t)));t.forEach((t=>{observe(t)})),r.push(...t)},t.observe=async t=>{const{href:e}=t,a=t=>{t.ctrlKey||(t.preventDefault(),navigate(e))};if(t.onclick=a,t.onkeydown=a,!t.hasAttribute("data-spa-no-prefetch")){await s(e)||(t.hasAttribute("data-spa-high-priority-prefetch")?n(e):c.observe(t));const a=async()=>{await s(e)||(t.hasAttribute("data-spa-no-prefetch-upgradation")?prefetch(e):n(e))};t.onmouseover=a,t.ontouchstart=a}},scan()};requestIdleCallback?requestIdleCallback(o,{timeout:2e3}):setTimeout(o,{timeout:2e3})})(this,document,location);